var writebtn=document.querySelector(".contacts-button"),feedback=document.querySelector(".modal-write-us"),close=document.querySelector(".modal-close"),fullname=document.querySelector("[name=fullname]"),mail=document.querySelector("[name=email]"),comments=document.querySelector("[name=comments]"),form=feedback.querySelector("form"),loginstorage=localStorage.getItem("fullname"),mailstorage=localStorage.getItem("mail"),mapbtn=document.querySelector(".map"),map=document.querySelector(".modal-popup-map"),mapClose=map.querySelector(".modal-close"),inputForm=form.querySelector(".input-wrapper"),inputMail=form.querySelector(".mail-wrapper"),textareaForm=form.querySelector(".textarea-wrapper");writebtn.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("modal-hide"),feedback.classList.add("modal-show"),loginstorage&&(fullname.value=loginstorage,mail.focus()),mailstorage?(mail.value=mailstorage,comments.focus()):fullname.focus()}),mapbtn.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("modal-hide"),map.classList.add("modal-show")}),form.addEventListener("submit",function(e){fullname.value&&mail.value&&comments.value?(localStorage.setItem("fullname",fullname.value),localStorage.setItem("mail",mail.value)):(e.preventDefault(),feedback.classList.add("modal-error")),fullname.value?inputForm.classList.remove("modal-invalid"):inputForm.classList.add("modal-invalid"),mail.value?inputMail.classList.remove("modal-invalid"):inputMail.classList.add("modal-invalid"),comments.value?textareaForm.classList.remove("modal-invalid"):textareaForm.classList.add("modal-invalid")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(feedback.classList.contains("modal-show")&&(feedback.classList.remove("modal-show"),feedback.classList.add("modal-hide"),feedback.classList.remove("modal-error")),map.classList.contains("modal-show")&&(map.classList.remove("modal-show"),map.classList.add("modal-hide")))}),close.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("modal-show"),feedback.classList.add("modal-hide"),feedback.classList.remove("modal-error")}),mapClose.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("modal-show"),map.classList.add("modal-hide")});
